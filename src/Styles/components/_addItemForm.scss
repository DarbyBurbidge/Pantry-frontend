@use '../abstracts' as *;

$form-field-width: 12rem;


.item-form {
    display: flex;
    flex-direction: column;

    &__input {
        color: $color-border;
        background: $color-white;
        padding: .25rem .75rem;
        border-radius: $br-sm;
        border: $border-width solid $color-border;
    }
}


.form__container {
    position: absolute;
    z-index: 2;
    /* bottom is 1.25em because it's 1.1rem for height of button/2
        but this contains the 2px border as well making
        the height of this element ~39px, cut in half is 19.5px or ~1.25rem (20px)
    */
    bottom: -1.25rem;
    margin: 0 50% 0 50%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.cancel__button {
    position: absolute;
    top: .25rem;
    right: 1rem;
    z-index: 100;
    @keyframes fade-in {
        0% {
            opacity: 0;
        }
        70% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
    animation: fade-in 1.5s linear forwards;
}

.add-item, .add-item.button--solo {
    width: 9rem;
    z-index: 6;
    width: max-content;
}

.item-form {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 0;
    z-index: 2;
    border-radius: $br-lg;
    background: $color-primary;
    animation: form-grow_container .5s linear forwards .49s;
    &.exp-false {
        animation: expiration-toggle_form .5s linear forwards;
    }
    &.exp-true {  
        animation: expiration-reverse_form .5s linear forwards;
    }
}

.item-form__name-label {
    font-size: .9rem;
    padding-left: .1rem;
    opacity: 0;
    width: $form-field-width;
    position: absolute;
    z-index: 3;

    animation: form-grow_name--label 450ms linear forwards 540ms;
    &.exp-false {
        animation: expiration-toggle_name--label .5s linear forwards;
    }
    &.exp-true {
        animation: expiration-reverse_name--label .5s linear forwards;
    }
}

.item-name {
    opacity: 0;
    width: $form-field-width;
    position: absolute;
    z-index: 3;

    animation: form-grow_name 450ms linear forwards 540ms;
    &.exp-false {
        animation: expiration-toggle_name .5s linear forwards;
    }
    &.exp-true {
        animation: expiration-reverse_name .5s linear forwards;
    }
}

.item-form__exp-label {
    font-size: .9rem;
    padding-left: .1rem;
    opacity: 0;
    width: $form-field-width;
    position: absolute;
    z-index: 4;

    animation: form-grow_exp--label 450ms linear forwards 540ms;
    &.exp-false{
        animation: expiration-toggle_exp--label .5s linear forwards;
    }

    &.exp-true {
        animation: expiration-reverse_exp--label .5s linear forwards;
    }
}


.item-exp {
    opacity: 0;
    width: $form-field-width;
    position: absolute;
    z-index: 4;
    animation: form-grow_exp 450ms linear forwards 540ms;

    &.exp-false {
        animation: expiration-toggle_exp .5s linear forwards;
    }

    &.exp-true {
        animation: expiration-reverse_exp .5s linear forwards;
    }
}

.item-form__expiration-toggle {
    opacity: 0;
    width: $form-field-width;
    position: absolute;
    z-index: 5;
    background: $color-delete;

    &--on {
        animation: form-grow_toggle 450ms linear forwards 540ms;
    }

    &--off {
        opacity: 1;
        bottom: 3.25rem;
    }
}

.submit-item {
    border: $border-emphasis solid $color-border;
    animation: form-grow_button .5s linear forwards;
}

@keyframes form-grow_button {
    0% {
        margin-top: initial;
        width: 9rem;
    }
    99% {
        border: $border-emphasis solid $color-border;
        width: $form-field-width;
    }
    100% {
        width: $form-field-width;
        border: $border-width solid $color-border;
    }
}

@keyframes form-grow_container {
    0% {
        padding: 0;
        border: $border-emphasis solid $color-border;
        bottom: -1.25rem;
    }
    10% {
        padding: 0 .5rem;
    }
    100% {
        padding: .5rem;
        padding-top: 10.25rem;
        border: $border-emphasis solid $color-border;
        bottom: -5.5rem;
    }
}

/* delay 540ms */
@keyframes form-grow_toggle {
    0% {
        opacity: 1;
        bottom: 0;
    }
    100% {
        opacity: 1;
        bottom: 3.25rem;
    }
}

@keyframes form-grow_exp--label {
    0% {
        opacity: 1;
        bottom: 0;
    }
    100% {
        opacity: 1;
        bottom: 8rem;
    }
}

@keyframes form-grow_exp {
    0% {
        opacity: 1;
        bottom: 0;
    }
    100% {
        opacity: 1;
        bottom: 6rem;
    }
}

@keyframes form-grow_name--label {
    0% {
        opacity: 1;
        bottom: 0;
    }
    100% {
        opacity: 1;
        bottom: 11.5rem;
    }
}

@keyframes form-grow_name {
    0% {
        opacity: 1;
        bottom: 0;
    }
    100% {
        opacity: 1;
        bottom: 9.5rem;
    }
}

/*
    Animation for toggling off/on expiration
*/

@keyframes expiration-toggle_form {
    0% {   
        padding: .5rem;
        padding-top: 10.25rem;
        border: $border-emphasis solid $color-border;
        bottom: -5.5rem;
    }
    100% {
        padding: .5rem;
        padding-top: 7rem;
        border: $border-emphasis solid $color-border;
        bottom: -4rem;
    }
}

@keyframes expiration-reverse_form {
    0% {   
        padding: .5rem;
        padding-top: 7rem;
        border: $border-emphasis solid $color-border;
        bottom: -4rem;
    }
    100% {
        padding: .5rem;
        padding-top: 10.25rem;
        border: $border-emphasis solid $color-border;
        bottom: -5.5rem;
    }
}

@keyframes expiration-toggle_exp--label {
    0% {
        opacity: 1;
        bottom: 8rem;
    }
    50% {
        opacity: 1;
        bottom: 6rem;
    }
    100% {
        opacity: 1;
        bottom: 3.25rem;
    }
}

@keyframes expiration-reverse_exp--label {
    0% {
        opacity: 1;
        bottom: 3.25rem;
    }
    50% {
        opacity: 1;
        bottom: 6rem;
    }
    100% {
        opacity: 1;
        bottom: 8rem;
    }
}

@keyframes expiration-toggle_exp {
    0% {
        opacity: 1;
        bottom: 6rem;
    }
    99% {
        opacity: 1;
        bottom: 3.25rem;
    }
    100% {
        opacity: 0;
    }
}

@keyframes expiration-reverse_exp {
    0% {
        opacity: 1;
        bottom: 3.25rem;
    }
    100% {
        opacity: 1;
        bottom: 6rem;
    }
}

@keyframes expiration-toggle_name--label {
    0% {
        opacity: 1;
        bottom: 11.5rem;
    }
    100% {
        opacity: 1;
        bottom: 8rem;
    }
}

@keyframes expiration-reverse_name--label {
    0% {
        opacity: 1;
        bottom: 8rem;
    }
    100% {
        opacity: 1;
        bottom: 11.5rem;
    }
}

@keyframes expiration-toggle_name {
    0% {
        opacity: 1;
        bottom: 9.5rem;
    }
    100% {
        opacity: 1;
        bottom: 6rem;
    }
}

@keyframes expiration-reverse_name {
    0% {
        opacity: 1;
        bottom: 6rem;
    }
    100% {
        opacity: 1;
        bottom: 9.5rem;
    }
}



